"use strict";(()=>{var e={};e.id=522,e.ids=[522],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8840:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>u,patchFetch:()=>K,requestAsyncStorage:()=>A,routeModule:()=>c,serverHooks:()=>I,staticGenerationAsyncStorage:()=>p});var o={};t.r(o),t.d(o,{GET:()=>E});var a=t(9303),s=t(8716),n=t(3131),_=t(7070),i=t(7848);async function E(e){try{let r=new URL(e.url),t=r.searchParams.get("code");if(!t)return _.NextResponse.json({error:"missing code"},{status:400});if(!i.OB.KAKAO_REST_API_KEY||!i.OB.KAKAO_REDIRECT_URI)return _.NextResponse.json({error:"kakao env missing"},{status:500});let o=new URLSearchParams({grant_type:"authorization_code",client_id:i.OB.KAKAO_REST_API_KEY,redirect_uri:i.OB.KAKAO_REDIRECT_URI,code:t});i.OB.KAKAO_CLIENT_SECRET&&o.set("client_secret",i.OB.KAKAO_CLIENT_SECRET);let a=await fetch("https://kauth.kakao.com/oauth/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},body:o}),s=await a.json();if(!a.ok)return _.NextResponse.json({error:s.error_description||"token exchange failed"},{status:500});let n=process.env.NEXT_PUBLIC_APP_BASE_URL||r.origin;return _.NextResponse.redirect(`${n}/program-intro?login=kakao`,302)}catch(e){return _.NextResponse.json({error:e?.message||"server error"},{status:500})}}let c=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/kakao/token/callback/route",pathname:"/api/kakao/token/callback",filename:"route",bundlePath:"app/api/kakao/token/callback/route"},resolvedPagePath:"D:\\youth-experience\\src\\app\\api\\kakao\\token\\callback\\route.ts",nextConfigOutput:"standalone",userland:o}),{requestAsyncStorage:A,staticGenerationAsyncStorage:p,serverHooks:I}=c,u="/api/kakao/token/callback/route";function K(){return(0,n.patchFetch)({serverHooks:I,staticGenerationAsyncStorage:p})}},7848:(e,r,t)=>{t.d(r,{OB:()=>o});let o={GEMINI_API_KEY:process.env.GEMINI_API_KEY||process.env.NEXT_PUBLIC_GEMINI_API_KEY||"",GEMINI_BASE_URL:process.env.GEMINI_BASE_URL||"https://generativelanguage.googleapis.com/v1beta",GEMINI_MODEL:process.env.GEMINI_MODEL||"gemini-1.5-flash",AI_BASE_URL:process.env.AI_BASE_URL||"",AI_API_KEY:process.env.AI_API_KEY||"",AI_MODEL:process.env.AI_MODEL||"gpt-4o-mini",KAKAO_API_KEY:process.env.NEXT_PUBLIC_KAKAO_API_KEY||"",KAKAO_REDIRECT_URI:process.env.NEXT_PUBLIC_KAKAO_REDIRECT_URI||"",KAKAO_REST_API_KEY:process.env.KAKAO_REST_API_KEY||"",KAKAO_CLIENT_SECRET:process.env.KAKAO_CLIENT_SECRET||"",NEXT_PUBLIC_APP_BASE_URL:process.env.NEXT_PUBLIC_APP_BASE_URL||""}}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[948,972],()=>t(8840));module.exports=o})();